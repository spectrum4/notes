From 4b20283782254249b3e8ed589faa278a2f74e3c2 Mon Sep 17 00:00:00 2001
From: Pete Moore <pmoore@mozilla.com>
Date: Sun, 20 Apr 2025 12:04:20 +0200
Subject: [PATCH] wip

---
 lib/trace_readwrite.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/lib/trace_readwrite.c b/lib/trace_readwrite.c
index a94cd56a1e4c..1df2c39a570b 100644
--- a/lib/trace_readwrite.c
+++ b/lib/trace_readwrite.c
@@ -25,6 +25,7 @@ void log_post_write_mmio(u64 val, u8 width, volatile void __iomem *addr,
 			 unsigned long caller_addr, unsigned long caller_addr0)
 {
 	trace_rwmmio_post_write(caller_addr, caller_addr0, val, width, addr);
+	printk(KERN_INFO "Write %u bits [0x%px]=%#018llx\n", width, addr, val);
 }
 EXPORT_SYMBOL_GPL(log_post_write_mmio);
 EXPORT_TRACEPOINT_SYMBOL_GPL(rwmmio_post_write);
@@ -41,6 +42,7 @@ void log_post_read_mmio(u64 val, u8 width, const volatile void __iomem *addr,
 			unsigned long caller_addr, unsigned long caller_addr0)
 {
 	trace_rwmmio_post_read(caller_addr, caller_addr0, val, width, addr);
+	printk(KERN_INFO "Read %u bits [0x%px]=%#018llx\n", width, addr, val);
 }
 EXPORT_SYMBOL_GPL(log_post_read_mmio);
 EXPORT_TRACEPOINT_SYMBOL_GPL(rwmmio_post_read);
-- 
2.47.0

